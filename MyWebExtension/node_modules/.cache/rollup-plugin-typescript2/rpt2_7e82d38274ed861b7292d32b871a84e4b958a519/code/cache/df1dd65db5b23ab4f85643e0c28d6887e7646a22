{"code":"import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { Button } from \"@docsvision/web/components/form/button\";\r\nimport { BaseControlParams, BaseControl } from \"@docsvision/webclient/System/BaseControl\";\r\nimport { ControlImpl } from \"@docsvision/webclient/System/ControlImpl\";\r\nimport { getBindingResult } from \"@docsvision/webclient/System/GetBindingResult\";\r\nimport { at, handler } from \"@docsvision/webclient/System/Handler\";\r\nimport { r } from \"@docsvision/webclient/System/Readonly\";\r\nimport { rw } from \"@docsvision/webclient/System/Readwrite\";\r\nimport React from \"react\";\r\n/**\r\n * Содержит публичные свойства элемента управления [Control1]{@link Control1}.\r\n */\r\nvar Control1Params = /** @class */ (function (_super) {\r\n    __extends(Control1Params, _super);\r\n    function Control1Params() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /** Стандартный CSS класс со стилями элемента управления. */\r\n        _this.standardCssClass = \"control-1\";\r\n        return _this;\r\n    }\r\n    __decorate([\r\n        r\r\n    ], Control1Params.prototype, \"standardCssClass\", void 0);\r\n    __decorate([\r\n        rw\r\n    ], Control1Params.prototype, \"number\", void 0);\r\n    __decorate([\r\n        rw\r\n    ], Control1Params.prototype, \"doubleNumber\", void 0);\r\n    __decorate([\r\n        rw\r\n    ], Control1Params.prototype, \"text\", void 0);\r\n    __decorate([\r\n        rw\r\n    ], Control1Params.prototype, \"largeText\", void 0);\r\n    __decorate([\r\n        rw\r\n    ], Control1Params.prototype, \"localizedText\", void 0);\r\n    __decorate([\r\n        rw\r\n    ], Control1Params.prototype, \"flag\", void 0);\r\n    __decorate([\r\n        rw\r\n    ], Control1Params.prototype, \"id\", void 0);\r\n    __decorate([\r\n        rw\r\n    ], Control1Params.prototype, \"value\", void 0);\r\n    __decorate([\r\n        rw\r\n    ], Control1Params.prototype, \"services\", void 0);\r\n    return Control1Params;\r\n}(BaseControlParams));\r\nexport { Control1Params };\r\n/** Реализация элемента управления Control1 */\r\nvar Control1 = /** @class */ (function (_super) {\r\n    __extends(Control1, _super);\r\n    function Control1() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onClickHandler = function (e) { return __awaiter(_this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.state.services.feature1.action1({\r\n                            documentId: this.state.services.cardId\r\n                        })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4 /*yield*/, this.state.services.layout.reloadFromServer()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        return _this;\r\n    }\r\n    /** Вызывается до рендеринга и до вызова хандлеров, но после инициализации сервисов. */\r\n    Control1.prototype.construct = function () {\r\n    };\r\n    /** Вызывается до рендеринга, но после вызова хандлеров и инициализации сервисов. */\r\n    Control1.prototype.prepare = function () {\r\n    };\r\n    /** Вызывается после отображения контрола в DOM браузера */\r\n    Control1.prototype.init = function () {\r\n    };\r\n    /**\r\n     * Вызывается перед удалением контрола из DOM браузера\r\n     */\r\n    Control1.prototype.deinit = function () {\r\n    };\r\n    Control1.prototype.createParams = function () {\r\n        return new Control1Params();\r\n    };\r\n    Control1.prototype.createImpl = function () {\r\n        return new ControlImpl(this.props, this.state, this.renderControl.bind(this));\r\n    };\r\n    Object.defineProperty(Control1.prototype, \"binding\", {\r\n        // Получение значения поля карточки\r\n        set: function (binding) {\r\n            this.state.value = binding === null || binding === void 0 ? void 0 : binding.value;\r\n            this.state.binding = binding;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    // Сохранение значения поля карточки\r\n    Control1.prototype.getBindings = function () {\r\n        // Первый параметр - значение IBindingResult, полученное с сервера\r\n        // Второй параметр - текущее значение, которое мы хотим сохранить\r\n        // Третий параметр - имя свойства контрола, содержащего отображамое имя значения для записи в историю карточки.\r\n        return [getBindingResult(this.state.binding, this.state.value, function () { return at(Control1Params).text; })];\r\n    };\r\n    Control1.prototype.renderControl = function () {\r\n        return (React.createElement(Button, { onClick: this.onClickHandler, tabIndex: this.controlImpl.getTabIndex(), title: this.state.largeText, stretchWidth: false, className: \"system-card-button\" }, this.state.text));\r\n    };\r\n    __decorate([\r\n        handler(\"binding\")\r\n    ], Control1.prototype, \"binding\", null);\r\n    return Control1;\r\n}(BaseControl));\r\nexport { Control1 };\r\n//# sourceMappingURL=Control1.js.map","references":["D:/Desktop/MyWebExtension/node_modules/@docsvision/web/components/form/button/index.d.ts","D:/Desktop/MyWebExtension/node_modules/@docsvision/webclient/System/$Layout.d.ts","D:/Desktop/MyWebExtension/node_modules/@docsvision/webclient/System/BaseControl.d.ts","D:/Desktop/MyWebExtension/node_modules/@docsvision/webclient/System/ControlImpl.d.ts","D:/Desktop/MyWebExtension/node_modules/@docsvision/webclient/System/GetBindingResult.d.ts","D:/Desktop/MyWebExtension/node_modules/@docsvision/webclient/System/Handler.d.ts","D:/Desktop/MyWebExtension/node_modules/@docsvision/webclient/System/IBindingResult.d.ts","D:/Desktop/MyWebExtension/node_modules/@docsvision/webclient/System/LayoutServices.d.ts","D:/Desktop/MyWebExtension/node_modules/@docsvision/webclient/System/Readonly.d.ts","D:/Desktop/MyWebExtension/node_modules/@docsvision/webclient/System/Readwrite.d.ts","D:/Desktop/MyWebExtension/node_modules/@types/react/index.d.ts","D:/Desktop/MyWebExtension/src/Feature1/$Feature1.ts"],"map":"{\"version\":3,\"file\":\"Control1.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/Feature1/Control1.tsx\"],\"names\":[],\"mappings\":\"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\"}"}
