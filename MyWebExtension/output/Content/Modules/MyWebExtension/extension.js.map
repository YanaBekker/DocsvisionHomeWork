{"version":3,"file":"extension.js","sources":["../../../../src/Services/Interfaces/IReqService.ts","../../../../src/Logic/RequestBusinessTripLogic.ts","../../../../src/EventHandlers/RequestBusinessTripEventHandlers.ts","../../../../src/Services/ReqService.ts","../../../../src/Index.ts"],"sourcesContent":["import { StaffDirectoryItems } from \"@docsvision/webclient/BackOffice/StaffDirectoryItems\";\r\nimport { serviceName } from \"@docsvision/webclient/System/ServiceUtils\"\r\nimport { ChangeDirPhoneInfoRequest } from \"../../Models/IChangeDirPhoneInfoRequest\";\r\nimport { IChangeCityInfoRequest } from \"../../Models/IChangeCityInfoRequest\";\r\nimport { IChangeCityInfoResponse } from \"../../Models/IChangeCityInfoResponse\";\r\n\r\nexport interface IReqService {\r\n    GetReqName(documentId: string): Promise<string>\r\n    ChangeDirPhoneInfo(request: ChangeDirPhoneInfoRequest): Promise<Boolean>\r\n    ChangeCityInfo(request: IChangeCityInfoRequest): Promise<IChangeCityInfoResponse>\r\n}\r\n\r\nexport type $ReqService = { activityPlanService: IReqService }; \r\nexport const $ReqService = serviceName<$ReqService, IReqService>(x => x.activityPlanService); ","import { ILayout } from \"@docsvision/webclient/System/$Layout\";\r\nimport { CancelableEventArgs } from \"@docsvision/webclient/System/CancelableEventArgs\";\r\nimport { ICardSavingEventArgs } from \"@docsvision/webclient/System/ICardSavingEventArgs\";\r\nimport { Layout } from \"@docsvision/webclient/System/Layout\";\r\nimport { DirectoryDesignerRow } from \"@docsvision/webclient/BackOffice/DirectoryDesignerRow\";\r\nimport { GenModels } from \"@docsvision/webclient/Generated/DocsVision.WebClient.Models\";\r\nimport { StaffDirectoryItems } from \"@docsvision/webclient/BackOffice/StaffDirectoryItems\";\r\nimport { TextArea } from \"@docsvision/webclient/Platform/TextArea\";\r\nimport { DateTimePicker } from \"@docsvision/webclient/Platform/DateTimePicker\";\r\nimport { NumberControl } from \"@docsvision/webclient/Platform/Number\";\r\nimport { MessageBox } from \"@docsvision/webclient/Helpers/MessageBox/MessageBox\";\r\nimport { $CardKindController } from \"@docsvision/webclient/Generated/DocsVision.WebClient.Controllers\";\r\nimport { TextBox } from \"@docsvision/webclient/Platform/TextBox\";\r\nimport { CustomButton } from \"@docsvision/webclient/Platform/CustomButton\";\r\nimport { $MessageBox } from \"@docsvision/webclient/System/$MessageBox\";\r\nimport { $ReqService } from \"../Services/Interfaces/IReqService\";\r\nimport { Params } from \"@docsvision/webclient/BackOffice/ChildTasksPerforming\";\r\n\r\nexport class RequestBusinessTripLogic {\r\n\r\n    /**\r\n     * Проверяет возможность сохранения карточки для поля основание для поездки\r\n     * @param layout Разметка карточки\r\n     * @returns true если сохранение разрешено, false если запрещено\r\n    */\r\n    public async CheckPossibility(layout: ILayout): Promise<boolean> {\r\n        const tripReasonField = layout.controls.tryGet<TextArea>(\"description\");\r\n\r\n        if (!tripReasonField) {\r\n            console.warn(\"Контролы описания не найдены\");\r\n            return;\r\n        }\r\n\r\n        const tripReasonValue = tripReasonField.value;\r\n\r\n        if (!tripReasonValue || tripReasonValue.toString().trim() === \"\") {\r\n            MessageBox.ShowWarning(\"Сохранение отклонено: поле основание для поездки должно быть заполнено\");\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Проверяет валидность дат: дата начала < даты окончания поездки\r\n     * @param layout Разметка карточки\r\n     * @returns true если дата начала < даты окончания поездки, false если дата начала >= даты окончания поездки\r\n    */\r\n    public async CheckDateTrip(sender: DateTimePicker) {\r\n        const layout = sender.layout;\r\n\r\n        const startDateControl = layout.controls.tryGet<DateTimePicker>(\"dateFrom\");\r\n        const endDateControl = layout.controls.tryGet<DateTimePicker>(\"dateTo\");\r\n\r\n        if (!startDateControl || !endDateControl) {\r\n            console.warn(\"Контролы дат не найдены\");\r\n            return;\r\n        }\r\n\r\n        const startDateValue = startDateControl.params.value;\r\n        const endDateValue = endDateControl.params.value;\r\n\r\n        if (!startDateValue || !endDateValue) {\r\n            return;\r\n        }\r\n\r\n        if (endDateValue < startDateValue) {\r\n            startDateControl.params.value = new Date();\r\n            endDateControl.params.value = new Date();\r\n            MessageBox.ShowWarning(\"Ошибка с датами: дата начала командировки не может быть позже даты окончания\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Отображает информацию о карточке\r\n     * @param layout Разметка карточки\r\n    */\r\n    public async showInformation(sender: CustomButton) {\r\n        const docName = sender.layout.controls.tryGet<TextBox>(\"documentName\").params?.value || \"Не указано\";\r\n        const regDate = sender.layout.controls.tryGet<DateTimePicker>(\"regDate\").params?.value || \"Не указана\";\r\n        const dateFrom = sender.layout.controls.tryGet<DateTimePicker>(\"dateFrom\").params?.value || \"Не указана\";\r\n        const dateTo = sender.layout.controls.tryGet<DateTimePicker>(\"dateTo\").params?.value || \"Не указана\";\r\n        const reason = sender.layout.controls.tryGet<TextArea>(\"description\").params?.value || \"Не указано\";\r\n        const city = sender.layout.controls.tryGet<DirectoryDesignerRow>(\"city\").params.value?.name || \"Не указано\";\r\n        \r\n\r\n        const formatDate = (dateValue) => {\r\n            if (!dateValue || dateValue === \"Не указана\") return dateValue;\r\n\r\n            const date = new Date(dateValue);\r\n            return date.toLocaleDateString('ru-RU', {\r\n                day: '2-digit',\r\n                month: '2-digit',\r\n                year: 'numeric',\r\n                hour: '2-digit',\r\n                minute: '2-digit'\r\n            });\r\n        };\r\n\r\n        const stripHtml = (html) => {\r\n            if (!html || html === \"Не указано\") return html;\r\n            return html.replace(/<[^>]*>/g, '');\r\n        };\r\n\r\n        const lines = [\r\n            `Название документа: ${docName}`,\r\n            `Дата создания: ${formatDate(regDate)}`,\r\n            `Дата с: ${formatDate(dateFrom)}`,\r\n            `Дата по: ${formatDate(dateTo)}`,\r\n            `Основание: ${stripHtml(reason)}`,\r\n            `Город: ${city}`\r\n        ].filter(Boolean).join('\\n');\r\n\r\n        await MessageBox.ShowInfo(lines);\r\n    }\r\n\r\n    async performAction(layout: Layout) {\r\n        const response = await layout.getService($ReqService).GetReqName(layout.cardInfo.id);\r\n        layout.getService($MessageBox).showInfo(response);\r\n    }\r\n\r\n    async ChangeDirPhoneInfo(layout: Layout) {\r\n        const commander = layout.controls.tryGet<(StaffDirectoryItems)>(\"commander\");\r\n        const value = commander.value as GenModels.EmployeeDataModel;\r\n\r\n        const result = await layout.getService($ReqService).ChangeDirPhoneInfo({documentId: layout.cardInfo.id,\r\n            commanderId: value.id});\r\n        \r\n\r\n        // Пыталась возвращать строку телефона и в какой либо виде данные о руководителе (id, типы и еще разные типы)\r\n        // и меня значения тут  const phone = sender.layout.controls.tryGet<TextBox>(\"phone\"); phone.params.value = то что вернули\r\n        // но вот не смогал сотрудника вернуть\r\n\r\n        layout.reloadFromServer();\r\n    }\r\n\r\n    async ChangeCityInfo(layout: Layout) {\r\n        const cityNode = layout.controls.tryGet<(DirectoryDesignerRow)>(\"city\");\r\n        const day = layout.controls.tryGet<(NumberControl)>(\"dayCount\");\r\n     \r\n        const result = await layout.getService($ReqService).ChangeCityInfo({documentId: layout.cardInfo.id,\r\n            daysCount: day.value, city: cityNode.value.name});\r\n        \r\n        const sumTrip = layout.controls.tryGet<(NumberControl)>(\"sumTrip\");\r\n        sumTrip.params.value = result.amountMoney;\r\n    }\r\n}","import { ILayout } from \"@docsvision/webclient/System/$Layout\";\r\nimport { CancelableEventArgs } from \"@docsvision/webclient/System/CancelableEventArgs\";\r\nimport { ICardSavingEventArgs } from \"@docsvision/webclient/System/ICardSavingEventArgs\";\r\nimport { Layout } from \"@docsvision/webclient/System/Layout\";\r\nimport { DirectoryDesignerRow } from \"@docsvision/webclient/BackOffice/DirectoryDesignerRow\";\r\nimport { GenModels } from \"@docsvision/webclient/Generated/DocsVision.WebClient.Models\";\r\nimport { StaffDirectoryItems } from \"@docsvision/webclient/BackOffice/StaffDirectoryItems\";\r\nimport { MessageBox } from \"@docsvision/webclient/Helpers/MessageBox/MessageBox\";\r\nimport { RequestBusinessTripLogic } from \"../Logic/RequestBusinessTripLogic\";\r\nimport { DateTimePicker } from \"@docsvision/webclient/Platform/DateTimePicker\";\r\nimport { $CardKindController } from \"@docsvision/webclient/Generated/DocsVision.WebClient.Controllers\";\r\nimport { CustomButton } from \"@docsvision/webclient/Platform/CustomButton\";\r\n\r\n/**\r\n * Событие перед сохранением карточки\r\n * @param layout разметка\r\n * @param args аргументы\r\n*/\r\nexport async function ddRequestBusinessTrip_onSaveCard(layout: ILayout, args: CancelableEventArgs<ICardSavingEventArgs>) {\r\n    if (!layout) { return; }\r\n    let logic = new RequestBusinessTripLogic();\r\n\r\n    if (logic.CheckPossibility(layout)) {\r\n        args.accept();\r\n        return;\r\n    }\r\n    args.cancel();\r\n}\r\n\r\n/**\r\n * Событие проверки валидоности даты командировки\r\n * @param layout разметка\r\n * @param args аргументы\r\n*/\r\nexport async function ddRequestBusinessTrip_DateTimePicker_onDateChanged(sender: DateTimePicker) {\r\n    if (!sender) { return; }\r\n    let logic = new RequestBusinessTripLogic();\r\n    await logic.CheckDateTrip(sender);\r\n}\r\n\r\n/**\r\n * Событие вывод информации по карточке при нажатии на кнопку\r\n * @param layout разметка\r\n*/\r\nexport async function ddRequestBusinessTrip_Button_onClick(sender: CustomButton) {\r\n    if (!sender) { return; }\r\n    let logic = new RequestBusinessTripLogic();\r\n    await logic.showInformation(sender);\r\n}\r\n\r\nexport async function ddRequestTrip_action1_onClick(sender: CustomButton) {\r\n    new RequestBusinessTripLogic().performAction(sender.layout);\r\n}\r\n\r\nexport async function ddRequestTrip_ChangeDirPhoneInfo_onDateChanged(sender: CustomButton) {\r\n    new RequestBusinessTripLogic().ChangeDirPhoneInfo(sender.layout);\r\n}\r\n\r\nexport async function ddRequestTrip_ChangeCityInfo_onDateChanged(sender: CustomButton) {\r\n    new RequestBusinessTripLogic().ChangeCityInfo(sender.layout);\r\n}\r\n\r\n\r\n","import { ControllerBase, HttpMethods } from \"@docsvision/webclient/System/ControllerBase\";\r\nimport { $RequestManager } from \"@docsvision/webclient/System/$RequestManager\";\r\nimport { ChangeDirPhoneInfoRequest } from \"../Models/IChangeDirPhoneInfoRequest\";\r\nimport { IReqService } from \"./Interfaces/IReqService\";\r\nimport { IChangeCityInfoRequest } from \"../Models/IChangeCityInfoRequest\";\r\nimport { IChangeCityInfoResponse } from \"../Models/IChangeCityInfoResponse\";\r\n\r\nexport class ReqService extends ControllerBase implements IReqService {\r\n    protected controllerName: string = \"Req\";\r\n\r\n    constructor(protected services: $RequestManager) {\r\n        super(services);\r\n    } \r\n\r\n    ChangeCityInfo(request: IChangeCityInfoRequest): Promise<IChangeCityInfoResponse> {\r\n        return super.doRequest({\r\n            controller: this.controllerName,\r\n            action: 'ChangeCityInfo',\r\n            isApi: true,\r\n            method: HttpMethods.Post,\r\n            data: request,\r\n            options: { isShowOverlay: true }\r\n        })\r\n    }\r\n    GetReqName(documentId: string): Promise<string> {\r\n        return super.doRequest({\r\n            controller: this.controllerName,\r\n            action: 'GetReqName',\r\n            isApi: true,\r\n            method: HttpMethods.Post,\r\n            data: documentId, \r\n            options: { isShowOverlay: true }\r\n        })\r\n    }\r\n    ChangeDirPhoneInfo(request: ChangeDirPhoneInfoRequest): Promise<Boolean> {\r\n        return super.doRequest({\r\n            controller: this.controllerName,\r\n            action: 'ChangeDirPhoneInfo',\r\n            isApi: true,\r\n            method: HttpMethods.Post,\r\n            data: request,\r\n            options: { isShowOverlay: true }\r\n        })\r\n    }\r\n}","﻿import { extensionManager } from \"@docsvision/webclient/System/ExtensionManager\";\r\nimport * as RequestBusinessTripEventHandles from \"./EventHandlers/RequestBusinessTripEventHandlers\";\r\nimport { Service } from \"@docsvision/webclient/System/Service\";\r\nimport { $RequestManager } from \"@docsvision/webclient/System/$RequestManager\";\r\nimport { ReqService } from \"./Services/ReqService\";\r\nimport { $ReqService } from \"./Services/Interfaces/IReqService\";\r\n\r\n\r\nextensionManager.registerExtension({\r\n    name: \"MyWebExtension\",\r\n    version: \"1.0\",\r\n    globalEventHandlers: [RequestBusinessTripEventHandles],\r\n    layoutServices: [Service.fromFactory($ReqService, \r\n        (services: $RequestManager) => new ReqService(services))],\r\n    controls: []\r\n})"],"names":["serviceName","MessageBox","$MessageBox","__extends","HttpMethods","ControllerBase","extensionManager","Service"],"mappings":"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"}